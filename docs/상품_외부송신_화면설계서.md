# 상품 외부송신 화면 설계서

## 1. 개요

### 1.1 화면 목적
- 상품 목록에서 선택한 상품들을 외부 판매처(네이버 스마트스토어, 쿠팡, 11번가 등)로 전송하는 기능
- 판매처별로 다른 가격, 재고, 카테고리, 부가 정보를 설정하여 전송 가능

### 1.2 접근 경로
- 상품 목록 페이지 → 상품 선택 → "외부 송신" 버튼 클릭
- URL 파라미터: `/products/external-send?ids=1,2,3` (선택된 상품 ID들)

### 1.3 사용자 권한
- 상품 관리 권한이 있는 사용자만 접근 가능
- 판매처 연동 권한이 필요

---

## 2. 화면 구성

### 2.1 헤더 영역

#### 구성요소
- **뒤로가기 버튼**: 이전 페이지(상품 목록)로 이동
- **제목**: "상품 외부 송신"
- **부제목**: "선택된 상품 N개를 외부 판매처로 전송합니다."

#### 정책
- 선택된 상품 개수를 실시간으로 표시
- 뒤로가기 시 입력한 데이터는 저장되지 않음 (경고 메시지 없음)

---

## 3. 1단계: 판매처 선택

### 3.1 목적
외부로 상품을 전송할 판매처를 선택합니다.

### 3.2 구성요소

#### 3.2.1 섹션 헤더
- **제목**: "1. 전송할 판매처 선택"
- **설명**: "상품을 전송할 판매처를 선택하세요. (N개 선택됨)"
- **선택 카운터**: 실시간으로 선택된 판매처 개수 표시

#### 3.2.2 판매처 카드
각 판매처는 카드 형태로 표시되며, 다음 정보를 포함합니다:

| 항목 | 설명 | 표시 위치 |
|------|------|----------|
| 판매처명 | 예: "네이버 스마트스토어" | 카드 상단 |
| 대표자명 | 예: "김철수" | 판매처명 아래 |
| 사업자번호 | 예: "123-45-67890" | 하단 정보 |
| 연락처 | 예: "02-1234-5678" | 하단 정보 |
| 선택 표시 | 체크 표시(✓) | 카드 우측 상단 |

#### 3.2.3 카드 상태
- **선택 전**: 회색 테두리 (border-gray-200)
- **선택 후**: 파란색 테두리 + 파란색 배경 (border-blue-500, bg-blue-50)
- **호버**: 회색 테두리 진하게 (hover:border-gray-300)

### 3.3 동작 방식

#### 선택 동작
1. 사용자가 판매처 카드를 클릭
2. 선택 상태 토글 (선택 ↔ 선택 해제)
3. 선택된 경우 카드 스타일 변경 + 체크 표시
4. 선택 카운터 업데이트

#### 다중 선택
- 여러 판매처를 동시에 선택 가능
- 최소 1개 이상 선택해야 다음 단계 진행 가능

### 3.4 정책

#### 필수 선택
- **조건**: 최소 1개 이상의 판매처를 선택해야 함
- **미선택 시**: 2단계 영역이 표시되지 않음
- **발생 시점**: 페이지 로드 직후

#### 판매처 목록
- **출처**: 시스템에 등록된 활성 판매처만 표시
- **정렬**: 등록일 순서대로 표시
- **상태**: status가 'active'인 판매처만 표시

---

## 4. 2단계: 상품별 판매처 설정

### 4.1 목적
각 상품을 판매처별로 다른 조건(가격, 재고, 카테고리 등)으로 설정합니다.

### 4.2 구성요소

#### 4.2.1 섹션 헤더
- **제목**: "2. 상품별 판매처 설정"
- **설명**: "각 상품의 판매처별 가격, 재고, 카테고리 등을 개별적으로 설정하세요."

#### 4.2.2 상품 컨테이너
각 상품마다 개별 컨테이너가 생성되며, 다음과 같이 구성됩니다:

##### 상품 정보 헤더
| 항목 | 설명 | 표시 형식 |
|------|------|----------|
| 상품 이미지 | 대표 이미지 (썸네일) | 64x64px |
| 상품명 | 전체 상품명 | 텍스트 |
| 상품코드 | 고유 상품코드 | 예: "JJBD03-KN01" |
| 브랜드 | 브랜드명 | 예: "MADE J" |
| 시즌/년도 | 시즌 정보 | 예: "2024 FW" |

### 4.3 판매처별 설정 카드

#### 4.3.1 카드 구조
1단계에서 선택한 각 판매처마다 독립적인 설정 카드가 생성됩니다.

##### 카드 헤더
| 항목 | 설명 | 위치 |
|------|------|------|
| 판매처명 | 선택된 판매처 이름 | 좌측 상단 |
| 등록 타입 | "신규 등록" 또는 "기존 수정" | 판매처명 아래 (작은 글씨) |
| 원본 가격 | 상품의 기본 판매가 | 등록 타입 옆 |
| 원본 재고 | 상품의 기본 재고 | 원본 가격 옆 |
| 상태 선택 | 드롭다운 | 우측 상단 |

##### 상태 선택 옵션
| 옵션 | 의미 | 사용 케이스 |
|------|------|----------|
| 판매중 | 정상적으로 판매 가능한 상태 | 일반적인 상품 전송 |
| 판매중지 | 임시로 판매를 중단한 상태 | 재고 부족, 일시 중단 |
| 품절 | 재고가 소진된 상태 | 재입고 대기 |
| 단종 | 더 이상 판매하지 않는 상품 | 단종 상품 |

#### 4.3.2 입력 필드

##### (1) 상품명
- **목적**: 판매처별로 다른 상품명 사용 가능
- **기본값**: 원본 상품명
- **형식**: 텍스트 입력
- **제한**: 최대 길이 제한 없음 (판매처 정책에 따라 다름)
- **예시**: 
  - 원본: "[MADE] 임스 베이직 반폴라 니트 JT09390"
  - 네이버: "[특가] 임스 반폴라 니트 / 무료배송"
  - 쿠팡: "임스 베이직 반폴라 니트 남녀공용"

##### (2) 판매 가격
- **목적**: 판매처별 가격 차등 적용
- **기본값**: 원본 상품 판매가
- **형식**: 숫자 입력 (정수)
- **최소값**: 1원
- **단위**: 원(₩)
- **정책**:
  - 원본 가격과 다르게 설정 가능
  - 판매처 수수료를 고려하여 책정
  - 0원 이하는 입력 불가

##### (3) 판매 재고
- **목적**: 판매처별 재고 할당
- **기본값**: 원본 상품 재고
- **형식**: 숫자 입력 (정수)
- **최소값**: 0개
- **정책**:
  - 여러 판매처에 재고를 분산 가능
  - 합계가 실제 재고를 초과해도 시스템에서 제한하지 않음 (사용자 책임)
  - 0개 설정 가능 (예: 품절 상태로 등록)

##### (4) 판매처 카테고리
- **목적**: 각 판매처의 카테고리 체계에 맞춰 상품 분류
- **기본값**: 시스템의 상품 카테고리 (자동 매핑 시도)
- **형식**: 드롭다운 선택
- **옵션**:
  - 의류/상의
  - 의류/하의
  - 신발
  - 가방
  - 액세서리
  - 화장품
  - 생활용품
  - 전자제품
  - 기타
- **정책**:
  - 판매처의 실제 카테고리와 매핑 필요
  - 잘못된 카테고리 선택 시 전송 실패 가능

##### (5) 상품 설명
- **목적**: 판매처별 상품 설명 작성
- **기본값**: "[상품명] - [브랜드]" 형식
- **형식**: 여러 줄 텍스트 입력 (textarea, 3줄)
- **제한**: 최대 길이 제한 없음
- **정책**:
  - HTML 태그 사용 불가 (플레인 텍스트만)
  - 판매처별 상세페이지에 표시될 내용
  - 비워둘 경우 기본값 사용

### 4.4 동작 방식

#### 초기값 설정
1. 페이지 로드 시 모든 입력 필드는 원본 상품 정보로 자동 채워짐
2. 사용자가 수정하기 전까지 원본값 유지
3. 수정 시 해당 판매처에만 영향

#### 독립적인 설정
- 각 판매처의 설정은 완전히 독립적
- A 판매처의 가격을 변경해도 B 판매처에 영향 없음
- 상품 1의 설정이 상품 2에 영향 없음

### 4.5 정책

#### 필수 입력 항목
| 항목 | 필수 여부 | 이유 |
|------|----------|------|
| 상품명 | 필수 | 판매처에 표시될 이름 |
| 판매 가격 | 필수 | 가격 없이는 판매 불가 |
| 판매 재고 | 필수 | 재고 정보 필수 (0 가능) |
| 카테고리 | 필수 | 판매처의 분류 체계에 필요 |
| 상품 설명 | 선택 | 비워둘 경우 기본값 사용 |

#### 유효성 검사
- **가격**: 1원 이상 (음수, 0원 불가)
- **재고**: 0개 이상 (음수 불가)
- **상품명**: 공백 불가
- **카테고리**: 반드시 선택

#### 발생 조건
- **표시 조건**: 1단계에서 1개 이상의 판매처를 선택한 경우
- **숨김 조건**: 판매처를 선택하지 않은 경우

---

## 5. 3단계: 기본정보 확인

### 5.1 목적
전송하기 전 설정한 정보를 최종 확인합니다.

### 5.2 구성요소

#### 5.2.1 섹션 헤더
- **제목**: "3. 기본정보 확인"
- **설명**: (없음)

#### 5.2.2 판매처별 정보 카드
1단계에서 선택한 각 판매처별로 카드가 생성됩니다.

##### 카드 헤더
- **판매처명**: 큰 글씨로 표시 (예: "네이버 스마트스토어")

##### 상품별 정보
각 판매처 카드 안에 전송할 상품들의 정보가 요약되어 표시됩니다.

| 표시 항목 | 설명 |
|----------|------|
| 상품 이미지 | 썸네일 (64x64px) |
| 상품명 | 2단계에서 설정한 판매처별 상품명 |
| 상품코드 | 원본 상품코드 |
| 카테고리 | 선택한 판매처 카테고리 |
| 상태 | 판매중/판매중지/품절/단종 (배지 형태) |
| 가격 | 설정한 판매 가격 (큰 글씨, 파란색) |
| 재고 | 설정한 판매 재고 (작은 글씨) |

### 5.3 동작 방식

#### 읽기 전용
- 모든 정보는 읽기 전용으로 표시
- 수정이 필요한 경우 2단계로 돌아가서 수정

#### 데이터 출처
- 2단계에서 입력한 모든 정보를 가져와 표시
- 실시간으로 2단계 데이터와 동기화

### 5.4 정책

#### 표시 조건
- 1단계에서 1개 이상의 판매처를 선택한 경우
- 2단계의 모든 필수 항목이 입력된 경우

#### 정보 요약
- 전송할 상품과 판매처의 조합을 한눈에 확인
- 잘못된 설정이 있는지 최종 검토

---

## 6. 4단계: 판매처별 부가 정보 추가

### 6.1 목적
각 판매처가 요구하는 추가 정보를 등록합니다. (선택사항)

### 6.2 구성요소

#### 6.2.1 섹션 헤더
- **제목**: "4. 판매처별 부가 정보 추가 (선택사항)"
- **설명**: "각 판매처의 요구사항에 맞는 부가 정보를 추가하세요. 키와 값을 설정하여 여러 개를 추가할 수 있습니다."

### 6.3 부가 정보란?

#### 정의
판매처가 상품 등록 시 추가로 요구하는 메타데이터입니다.

#### 예시
| 판매처 | 부가 정보 예시 |
|--------|---------------|
| 네이버 | 판매자 ID, 배송비 템플릿 ID, 고객센터 번호 |
| 쿠팡 | 로켓배송 사용 여부, 반품배송비 |
| 11번가 | 판매자 코드, 배송 방법 |

### 6.4 부가 정보 추가 UI

#### 6.4.1 판매처별 섹션
1단계에서 선택한 각 판매처마다 섹션이 생성됩니다.

##### 섹션 헤더
- **판매처명**: 예: "네이버 스마트스토어"
- **사용 가능한 항목 수**: 예: "사용 가능한 부가 정보: 5개"

#### 6.4.2 상품별 부가 정보 관리
각 상품마다 독립적으로 부가 정보를 추가할 수 있습니다.

##### 상품 헤더
- **상품 이미지**: 작은 썸네일 (40x40px)
- **상품명**: 축약된 상품명
- **상품코드**: 상품 식별 코드
- **부가 정보 추가 버튼**: 파란색 버튼 "부가 정보 추가"

### 6.5 부가 정보 추가 모달

#### 6.5.1 모달 실행
- **트리거**: "부가 정보 추가" 버튼 클릭
- **목적**: 여러 개의 부가 정보를 한번에 선택하여 추가

#### 6.5.2 모달 구조

##### 모달 헤더
| 요소 | 설명 |
|------|------|
| 제목 | "부가 정보 선택" |
| 설명 | "추가할 부가 정보를 선택하세요 (N개 선택됨)" |
| 닫기 버튼 | X 아이콘 (우측 상단) |

##### 전체 선택 바
- **총 항목 수**: "총 N개 항목"
- **전체 선택 버튼**: 모든 항목을 한번에 체크
- **전체 해제 버튼**: 모든 체크를 한번에 해제

##### 부가 정보 목록
각 부가 정보는 체크박스가 있는 카드 형태로 표시됩니다.

**카드 구조:**
```
☑ [체크박스]
  판매자 ID                                    [키 이름]
  네이버 스마트스토어 판매자 식별자              [설명]
  기본값: naver_seller_123                     [기본값]
  매핑: seller_id                              [매핑 필드]
```

**카드 상태:**
- **체크 전**: 회색 테두리, 흰색 배경
- **체크 후**: 파란색 테두리, 파란색 연한 배경
- **호버**: 회색 테두리 진하게

##### 모달 푸터
- **취소 버튼**: 모달 닫기 (변경사항 저장 안 함)
- **선택 완료 버튼**: "선택 완료 (N개)" - 체크한 항목들 추가

### 6.6 추가된 부가 정보 표시

#### 6.6.1 부가 정보 카드
모달에서 선택한 부가 정보들이 카드 형태로 표시됩니다.

##### 카드 구조
| 항목 | 설명 | 형태 |
|------|------|------|
| 키 | 부가 정보의 키 이름 (수정 불가) | 읽기 전용 input |
| 설명 | 키에 대한 설명 | 작은 회색 텍스트 |
| 값 | 전송할 실제 값 (수정 가능) | 일반 input |
| 매핑 필드 | API 전송 시 사용할 필드명 | 작은 회색 텍스트 |
| 삭제 버튼 | 해당 부가 정보 제거 | 휴지통 아이콘 |

#### 6.6.2 값 수정
- **목적**: 기본값을 상황에 맞게 수정
- **예시**: 
  - 기본값: "naver_seller_123"
  - 수정값: "naver_seller_456" (다른 판매자 계정)

### 6.7 동작 방식

#### 부가 정보 선택 흐름
1. 사용자가 "부가 정보 추가" 버튼 클릭
2. 모달이 열리고 해당 판매처의 사용 가능한 부가 정보 목록 표시
3. 이미 추가된 항목은 자동으로 체크된 상태
4. 사용자가 추가할 항목 체크/체크 해제
5. "선택 완료" 버튼 클릭
6. 모달이 닫히고 선택한 항목들이 카드로 표시됨

#### 중복 선택 방지
- 모달을 다시 열었을 때 이미 추가된 항목은 체크된 상태로 표시
- 체크를 해제하면 해당 부가 정보가 제거됨

#### 값 수정
- 각 부가 정보 카드의 "값" 필드를 직접 수정 가능
- 수정된 값은 외부 송신 시 사용됨

#### 삭제
- 휴지통 아이콘 클릭 시 해당 부가 정보 카드 제거
- 삭제 후 다시 모달에서 추가 가능

### 6.8 정책

#### 선택사항
- **필수 여부**: 선택사항 (부가 정보 없이도 전송 가능)
- **사용 케이스**: 판매처가 추가 정보를 요구하는 경우에만 사용

#### 판매처별 독립성
- 각 판매처마다 다른 부가 정보 사용
- 네이버의 부가 정보가 쿠팡에 영향 없음

#### 상품별 독립성
- 같은 판매처라도 상품마다 다른 부가 정보 설정 가능
- 상품 A와 상품 B의 부가 정보는 독립적

#### 발생 조건
- **표시 조건**: 1단계에서 1개 이상의 판매처를 선택한 경우
- **모달 열림**: "부가 정보 추가" 버튼 클릭 시

#### 데이터 소스
- 부가 정보 목록은 "판매처별 부가 정보 등록" 화면에서 미리 등록된 항목들
- 등록되지 않은 판매처는 빈 목록 표시

---

## 7. 하단 액션 버튼

### 7.1 구성요소

#### 7.1.1 뒤로가기 버튼
- **위치**: 화면 하단 좌측
- **텍스트**: "뒤로가기"
- **스타일**: 회색 텍스트 버튼
- **동작**: 상품 목록 페이지로 이동

#### 7.1.2 외부 송신 시작 버튼
- **위치**: 화면 하단 우측
- **텍스트**: "외부 송신 시작"
- **스타일**: 파란색 배경, 흰색 텍스트
- **상태**:
  - 활성화: 판매처를 1개 이상 선택한 경우
  - 비활성화: 판매처를 선택하지 않은 경우 (회색, 클릭 불가)

### 7.2 동작 방식

#### 외부 송신 실행
1. 사용자가 "외부 송신 시작" 버튼 클릭
2. 입력 데이터 유효성 검사
3. 유효하지 않은 경우 → 에러 메시지 표시, 송신 중단
4. 유효한 경우 → 서버로 데이터 전송
5. 전송 성공 → "외부 송신이 완료되었습니다!" 알림
6. 상품 목록 페이지로 자동 이동

### 7.3 정책

#### 필수 조건
전송을 위해서는 다음 조건들이 모두 충족되어야 합니다:

| 조건 | 설명 | 미충족 시 동작 |
|------|------|--------------|
| 판매처 선택 | 최소 1개 | "전송할 판매처를 선택해주세요." 알림 |
| 상품명 입력 | 모든 상품/판매처 조합 | 에러 메시지 표시 |
| 가격 입력 | 1원 이상, 모든 조합 | 에러 메시지 표시 |
| 재고 입력 | 0개 이상, 모든 조합 | 에러 메시지 표시 |
| 카테고리 선택 | 모든 조합 | 에러 메시지 표시 |

---

## 8. 데이터 흐름

### 8.1 페이지 로드 시

```
1. URL에서 상품 ID 추출 (예: ids=1,2,3)
2. 서버에서 상품 정보 조회
3. 활성 판매처 목록 조회
4. 화면에 데이터 렌더링
```

### 8.2 사용자 입력 시

```
1. 사용자가 판매처 선택
   → selectedVendors 상태 업데이트
   → 2단계 영역 표시

2. 사용자가 2단계에서 정보 입력
   → productSettings 상태 업데이트
   → 3단계 확인 영역에 실시간 반영

3. 사용자가 부가 정보 추가
   → 모달 열림
   → 체크박스 선택
   → selectedExtraInfo 상태 업데이트
```

### 8.3 외부 송신 시

```
1. "외부 송신 시작" 버튼 클릭
2. 클라이언트에서 유효성 검사
3. 전송 데이터 구성:
   {
     productIds: [1, 2, 3],
     selectedVendors: ["V001", "V002"],
     productSettings: {
       "1": {
         "V001": { name: "...", price: 10000, ... },
         "V002": { name: "...", price: 12000, ... }
       }
     },
     selectedExtraInfo: {
       "1": {
         "V001": [
           { key: "판매자 ID", value: "..." }
         ]
       }
     }
   }
4. 서버로 POST 요청
5. 서버에서 각 판매처 API 호출
6. 결과 반환 및 페이지 이동
```

---

## 9. 에러 처리

### 9.1 유효성 검사 에러

| 에러 상황 | 메시지 | 해결 방법 |
|----------|--------|----------|
| 판매처 미선택 | "전송할 판매처를 선택해주세요." | 1단계에서 판매처 선택 |
| 가격 미입력 | "가격을 입력해주세요." | 2단계에서 가격 입력 |
| 가격 0원 이하 | "가격은 1원 이상이어야 합니다." | 가격을 1원 이상으로 수정 |
| 재고 음수 | "재고는 0개 이상이어야 합니다." | 재고를 0개 이상으로 수정 |
| 카테고리 미선택 | "카테고리를 선택해주세요." | 2단계에서 카테고리 선택 |

### 9.2 전송 에러

| 에러 상황 | 메시지 | 원인 |
|----------|--------|------|
| 네트워크 에러 | "서버와의 연결이 끊어졌습니다." | 인터넷 연결 문제 |
| 판매처 API 에러 | "판매처 전송 중 오류가 발생했습니다." | 판매처 API 인증 실패, 서버 오류 |
| 권한 없음 | "권한이 없습니다." | 사용자 권한 부족 |

---

## 10. 화면 예시

### 10.1 초기 화면 (판매처 미선택)
```
┌─────────────────────────────────────────┐
│ ← 뒤로가기 | 상품 외부 송신              │
│ 선택된 상품 2개를 외부 판매처로 전송합니다│
└─────────────────────────────────────────┘

┌─────────────────────────────────────────┐
│ 1. 전송할 판매처 선택 (0개 선택됨)       │
│ 상품을 전송할 판매처를 선택하세요.       │
│                                         │
│ [네이버]  [쿠팡]  [11번가]              │
└─────────────────────────────────────────┘

[뒤로가기]              [외부 송신 시작 (비활성)]
```

### 10.2 판매처 선택 후
```
┌─────────────────────────────────────────┐
│ 1. 전송할 판매처 선택 (2개 선택됨)       │
│ [네이버 ✓]  [쿠팡 ✓]  [11번가]         │
└─────────────────────────────────────────┘

┌─────────────────────────────────────────┐
│ 2. 상품별 판매처 설정                    │
│                                         │
│ [상품1 이미지] 임스 베이직 반폴라 니트   │
│                                         │
│   ┌─ 네이버 스마트스토어 ─────────┐    │
│   │ 상품명: [              ]      │    │
│   │ 가격: [10000] 재고: [45]      │    │
│   │ 카테고리: [의류/상의 ▼]       │    │
│   │ 설명: [              ]        │    │
│   └─────────────────────────────┘    │
│                                         │
│   ┌─ 쿠팡 ────────────────────┐    │
│   │ 상품명: [              ]      │    │
│   │ 가격: [10000] 재고: [45]      │    │
│   │ 카테고리: [의류/상의 ▼]       │    │
│   │ 설명: [              ]        │    │
│   └─────────────────────────────┘    │
└─────────────────────────────────────────┘
```

---

## 11. 기술 명세

### 11.1 상태 관리

| 상태명 | 타입 | 설명 |
|--------|------|------|
| selectedVendors | string[] | 선택된 판매처 ID 배열 |
| productSettings | Record<상품ID, Record<판매처ID, 설정>> | 상품/판매처별 설정 정보 |
| productStatuses | Record<상품ID, Record<판매처ID, 상태>> | 상품/판매처별 상태 정보 |
| selectedExtraInfo | Record<상품ID, Record<판매처ID, 부가정보[]>> | 부가 정보 |
| extraInfoModalOpen | boolean | 부가 정보 모달 열림/닫힘 |
| extraInfoModalContext | {productId, vendorId} | 현재 모달의 컨텍스트 |

### 11.2 주요 함수

| 함수명 | 역할 | 파라미터 |
|--------|------|----------|
| toggleVendor | 판매처 선택/해제 | vendorId |
| updateProductSetting | 상품 설정 업데이트 | productId, vendorId, field, value |
| updateProductStatus | 상품 상태 업데이트 | productId, vendorId, status |
| openExtraInfoModal | 부가 정보 모달 열기 | productId, vendorId |
| addMultipleExtraInfo | 부가 정보 일괄 추가 | productId, vendorId, extraInfoIds[] |
| updateExtraInfoValue | 부가 정보 값 수정 | productId, vendorId, index, newValue |
| removeExtraInfo | 부가 정보 삭제 | productId, vendorId, index |
| handleExternalSend | 외부 송신 실행 | - |

### 11.3 API 엔드포인트

| 엔드포인트 | 메서드 | 설명 |
|-----------|--------|------|
| /api/products/external-send | POST | 상품 외부 송신 |
| /api/vendors | GET | 판매처 목록 조회 |
| /api/vendors/:id/extra-info | GET | 판매처별 부가 정보 조회 |

---

## 12. 사용 시나리오

### 12.1 기본 시나리오

**상황**: 상품 2개를 네이버와 쿠팡에 전송

1. 상품 목록에서 상품 2개 선택
2. "외부 송신" 버튼 클릭
3. 외부 송신 페이지 이동
4. **1단계**: 네이버, 쿠팡 선택
5. **2단계**: 
   - 상품 1 → 네이버: 가격 10,000원, 재고 20개
   - 상품 1 → 쿠팡: 가격 12,000원, 재고 25개
   - 상품 2 → 네이버: 가격 25,000원, 재고 50개
   - 상품 2 → 쿠팡: 가격 27,000원, 재고 50개
6. **3단계**: 설정 확인
7. **4단계**: 부가 정보는 건너뛰기
8. "외부 송신 시작" 클릭
9. 완료 메시지 확인
10. 상품 목록으로 돌아감

### 12.2 부가 정보 사용 시나리오

**상황**: 네이버에 전송하면서 판매자 ID 등 부가 정보 추가

1. 1~5단계는 위와 동일
6. **4단계**:
   - 네이버 섹션에서 상품 1의 "부가 정보 추가" 버튼 클릭
   - 모달에서 "판매자 ID", "배송비 템플릿 ID" 체크
   - "선택 완료" 클릭
   - 각 부가 정보의 값 수정 (예: 판매자 ID를 실제 값으로)
7. 외부 송신 실행

### 12.3 에러 수정 시나리오

**상황**: 가격을 입력하지 않고 전송 시도

1. 판매처 선택, 상품 설정 (가격 빈칸)
2. "외부 송신 시작" 클릭
3. "가격을 입력해주세요." 에러 메시지 표시
4. 2단계로 스크롤 이동
5. 가격 입력
6. 다시 "외부 송신 시작" 클릭
7. 성공

---

## 13. 주의사항

### 13.1 개발 시 주의사항

1. **재고 관리**: 여러 판매처에 동일한 재고를 할당할 경우 실제 재고 부족 발생 가능
2. **가격 정책**: 판매처별 수수료를 고려한 가격 책정 필요
3. **카테고리 매핑**: 판매처의 실제 카테고리 ID와 매핑 필요
4. **부가 정보 검증**: 판매처 API에서 요구하는 필수 부가 정보 확인 필요
5. **대량 전송**: 상품이 많을 경우 성능 최적화 필요

### 13.2 사용자 교육 사항

1. **재고 분배**: 총 재고를 판매처에 어떻게 분배할지 미리 계획
2. **가격 책정**: 각 판매처의 수수료율을 고려하여 가격 설정
3. **부가 정보**: 판매처가 요구하는 필수 부가 정보를 사전에 확인
4. **전송 전 확인**: 3단계에서 모든 설정을 꼼꼼히 확인

---

## 14. 향후 개선 사항

### 14.1 예정된 기능

1. **일괄 가격 설정**: 모든 판매처에 동일한 가격을 한번에 적용
2. **템플릿 기능**: 자주 사용하는 설정을 템플릿으로 저장
3. **재고 자동 분배**: 비율에 따라 재고를 자동으로 분배
4. **전송 히스토리**: 과거 전송 내역 조회
5. **부분 실패 처리**: 일부 판매처만 실패한 경우 재전송 기능

### 14.2 개선 아이디어

1. 판매처별 성공률 통계
2. 자주 사용하는 부가 정보 즐겨찾기
3. 드래그&드롭으로 카테고리 매핑
4. 판매처별 설정 복사 기능
5. CSV 파일로 일괄 설정 업로드

---

## 15. 용어 정리

| 용어 | 설명 |
|------|------|
| 판매처 | 상품을 판매하는 외부 플랫폼 (예: 네이버, 쿠팡) |
| 외부 송신 | 상품 정보를 판매처의 시스템으로 전송하는 것 |
| 부가 정보 | 판매처가 요구하는 추가 메타데이터 |
| 매핑 필드 | API 전송 시 사용할 필드명 (JSON 키) |
| 상품 설정 | 판매처별로 다르게 설정한 가격, 재고 등 |
| 카테고리 매핑 | 시스템의 카테고리를 판매처의 카테고리로 변환 |

---

## 부록: FAQ

### Q1. 여러 판매처에 같은 재고를 설정하면 어떻게 되나요?
A. 시스템에서는 제한하지 않지만, 실제 주문이 발생하면 재고 부족이 발생할 수 있습니다. 주의해서 설정하세요.

### Q2. 부가 정보는 반드시 추가해야 하나요?
A. 아니요, 선택사항입니다. 다만 판매처에서 필수로 요구하는 경우 전송이 실패할 수 있습니다.

### Q3. 전송 후 수정할 수 있나요?
A. 네, 전송 후에도 판매처에서 직접 수정하거나 다시 외부 송신(기존 수정 모드)을 할 수 있습니다.

### Q4. 한 번에 최대 몇 개까지 전송할 수 있나요?
A. 기술적 제한은 없지만, 성능을 위해 50개 이하를 권장합니다.

### Q5. 전송이 실패하면 어떻게 되나요?
A. 실패한 판매처와 사유가 표시되며, 해당 판매처만 다시 전송할 수 있습니다.

---

**문서 버전**: 1.0  
**최종 수정일**: 2025-01-XX  
**작성자**: 개발팀  
**검토자**: 기획팀

